<iframe id=ifr sandbox="allow-scripts allow-modals allow-same-origin"></iframe>
<br>
<span id=logEl></span>
<script>
function log (msg) { logEl.append (msg, document.createElement ('br')); }
ifr.addEventListener ('load', () => log ('iframe loaded'));

let url = (content, type) =>
  URL.createObjectURL (
    new Blob ([content], {type}));

let cssUrl = url ('#d1 { color: green; }',
  'text/css');
let jsUrl = url (`
  try
  {
    alert (35);
    parent.log ('From child');
  }
  catch (err) { d1.textContent += err; }
  `,
  'application/javascript');

let htmlUrl = url (`
  <link rel=stylesheet href=${cssUrl}>
  <script src=${jsUrl} defer><\/script>
  <div id=d1>Div 12</div>`, 'text/html');

ifr.src = htmlUrl;
ifr.addEventListener ('load', () =>
{
  log (`html url "${htmlUrl}"`);
  log ('About to update');
  try
  {
    ifr.contentDocument.getElementById('d1').append (' ', 'From Parent');  
    log ('Updated child div');
  }
  catch (err) { log (`Error "${err}" "${err.stack}"`); }
});
</script>
