<iframe id=ifr sandbox="allow-scripts allow-modals allow-same-origin"></iframe>
Parent window log:
<div id=logEl></div>
<style>
#ifr, #logEl
{
  margin-bottom: 4rem;
  border: 1px solid gray;
  width: 100%;
  height: 10rem;
  padding: .4rem;
}
</style>
<script>
function log (msg)
{
  logEl.append (msg, document.createElement ('br'));
}

let url = (type, content) => URL.createObjectURL (
  new Blob ([content], {type}));

let cssUrl = url ('text/css', '#d1 { color: green; }');
let jsUrl = url ('text/javascript', `
  function clog (msg)
  {
    clogEl.append (msg, document.createElement ('br'));
  }

  try
  {
    parent.log ('This is log entry from child iframe displayed in parent window');
  }
  catch (err) { log (\`Error "\${err}" "\${err.stack}"\`); }
  
  function childFun (msg)
  {
    clog (msg);
  }`);

let htmlUrl = url ('text/html', `
  <link rel=stylesheet href=${cssUrl}>
  <script src=${jsUrl} defer><\/script>
  <div id=d1 data-xxyy='yyzz'>Div 21</div>
  <span id=clogEl></span>`);

ifr.src = htmlUrl;
ifr.addEventListener ('load', () =>
{
  try
  {
    let iWin = ifr.contentWindow;
    log ('ifr.contentWindow.d1.dataset.xxyy: ' + iWin.d1.dataset.xxyy);
    iWin.childFun ('This is  Parent window calling child iframe childFun ()');
  }
  catch (err) { log (`Error "${err}" "${err.stack}"`); }
});
</script>
